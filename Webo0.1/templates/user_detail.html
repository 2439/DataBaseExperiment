{% extends 'base.html' %}

{% block title %}{{ user }}{% endblock %}
{% block head %}
{% endblock %}

{% block main %}
    <div>
        <ul class="nav nav-tabs" id="indexTab" aria-orientation="horizontal">
            <li><a href= "{{ url_for('index',choose='all') }}">全部</a></li>
            {% for type in types %}
                <li><a href="{{ url_for('index',choose=type[0]) }}">{{ type[0] }}</a> </li>
            {% endfor %}
            <li><a href="{{ url_for('index',choose='focus') }}">关注</a> </li>
            {% if user%}
            <li><a href="{{ url_for('user_detail',user_name=user) }}">{{ user }}，欢迎回来！</a></li>
            {% endif %}
        </ul>
    </div>
    <div>
        <ul style="padding-left:20px; position:fixed; width:15%; height:100%">
            <li><a href= "{{ url_for('user_detail',user_name=host,choose='detail') }}">个人信息</a></li>
            <li><a href= "{{ url_for('user_detail',user_name=host,choose='focus') }}">关注好友</a></li>
            <li><a href="{{ url_for('user_detail',user_name=host,choose='web') }}">微博</a> </li>
            <li><a href="{{ url_for('user_detail',user_name=host,choose='praise') }}">点赞</a> </li>
            <li><a href="{{ url_for('user_detail',user_name=host,choose='comment') }}">评论</a> </li>
            <li><a href="{{ url_for('user_detail',user_name=host,choose='reply') }}">回复</a> </li>
        </ul>
        <div style="margin-left:100px;list-style:none">
            {% if choose == 'detail' %}
                {% if detail %}
                    <ul>
                        <li>昵称：{{ host }}</li>
                        <li>性别：{{ detail[2] }}</li>
                        <li>生日：{{ detail[3] }}</li>
                        <li>邮箱：{{ detail[4] }}</li>
                        <li>地区：{{ detail[5] }}</li>
                        <li>简介：{{ detail[6] }}</li>
                    </ul>
                {% else %}
                    <ul>
                        <li>昵称：{{ host }}</li>
                        <li>性别：男</li>
                        <li>生日：无</li>
                        <li>邮箱：无</li>
                        <li>地区：无</li>
                        <li>简介：无</li>
                    </ul>
                {% endif %}
                {% if user == host %}
                        <div class="form-container" style="width:100px;margin:0 auto">
                            <a href="{{ url_for('user_detail',user_name=host,choose='remake') }}">
                                <button class="btn btn-primary btn-block">修改</button>
                            </a>
                        </div>
                {% endif %}
            {% endif %}

            {% if choose == 'remake' %}
                <ul><li>昵称：{{ host }}</li></ul>
                <form action="/user_detail/{{host}}?choose=update" method="POST">
                    <div class="form-container" style="width:100px;margin:0 auto">
                        {% if detail %}
                            <div class="form-group">
                                {% if detail[2] == '女': %}
                                    <input type="radio" name="user_sex" value='男' > 男
                                    <input type="radio" name="user_sex" value='女' checked> 女
                                {% else %}
                                    <input type="radio" name="user_sex" value='男' checked> 男
                                    <input type="radio" name="user_sex" value='女' > 女
                                {% endif %}
                            </div>
                            <div class="form-group">
                                生日：
                                {% if detail[3] %}
                                    <input type="date" name="user_birthday" value=detail[3] pattern="yyyy-MM-dd">
                                {% else %}
                                    <input type="date" name="user_birthday" value="date"  pattern="yyyy-MM-dd">
                            </div>
                            <ul>
                                <li>邮箱：{{ detail[4] }}</li>
                                <li>地区：{{ detail[5] }}</li>
                                <li>简介：{{ detail[6] }}</li>
                            </ul>
                        {% else %}
                            <ul>
                                <li>性别：男</li>
                                <li>生日：无</li>
                                <li>邮箱：无</li>
                                <li>地区：无</li>
                                <li>简介：无</li>
                            </ul>
                        {% endif %}
                        {% if user==host %}
                            <div class="form-group">
                                <button class="btn btn-primary btn-block">确定</button>
                            </div>
                        {% endif %}
                    </div>
                </form>
            {% endif %}
        </div>
    </div>
{% endblock %}